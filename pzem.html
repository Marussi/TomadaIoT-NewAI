<!DOCTYPE html>
<html>
    <head>

<title>Monitoramento da Tomada IOT</title>

<style>

.dedo{
  position: fixed;
  background-color: #fff;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  width: 100%;
  display: grid;
  grid-template-columns: 6.5fr 7fr 2fr 2fr;
  align-items: center;
  z-index: 1;
  justify-content: space-between;
  height: 50px;
  padding-left: 20px;
  padding-top: 15px;
 
  
}

.NOVA{
  font-family: Garamond;
            font-weight: bold;
            color:#6fc6e9;
            font-size: 30px;
}
.Moni{
  font-family: Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
  font-size: 18px;
}
.imaginha{
  width: 25px;
  transform: translateY(-120%) translateX(3100%);
}
.diu{
  width: 22px;
  transform: translateY(2%) translateX(-590%);
}

.serv{
  transform: translateY(-140%) translateX(240%);
  text-decoration: none;
        font-family: Comic Sans MS, Comic Sans, cursive;
        color:#6fc6e9;
        transition: 0.5s;
}

.serv:hover{
  
         color:#4a6e9e;
        transition: 0.5s;

}
.cont{
  transform: translateY(-1%) translateX(-30%);
  text-decoration: none;
        font-family: Comic Sans MS, Comic Sans, cursive;
        color:#6fc6e9;
        transition: 0.5s;
}
.cont:hover{
  color:#4a6e9e;
  transition: 0.5s;
}
.sidebar{
position:fixed;
top: 60px;
width:260px;
height:calc(100% - 100px);
background-color: #6fc6e9;
padding-top: 50px;

color: #fff;
min-width: 50px;
font-size:20px;
text-align: left;
justify-content: space-between;
}

.Sob{
  text-decoration: none;
  color: #fff;
  padding-left: 15px;
  font-family: Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
}
.Duv{
  text-decoration: none;
  color: #fff;
  padding-left: 15px;
  font-family:Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
}
.Com{
  text-decoration: none;
  color: #fff;
  padding-left: 15px;
  font-family: Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
}
.Config{
  text-decoration: none;
  color: #fff;
  padding-left: 15px;
  font-family:Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
}
.Ajuda{
  text-decoration: none;
  color: #fff;
  padding-left: 15px;
  font-family: Monospace, 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  font-weight: bold;
}
.coco{
  margin-bottom: 75px;
  padding-left: 15px;
  
}
.vov{
  margin-bottom: 75px;
  padding-left: 15px;
}

.xca{
  margin-bottom: 75px;
  padding-left: 15px;
}

.sss{
  margin-bottom: 75px;
  padding-left: 15px;
}

.lll{
  
  padding-left: 15px;
}
.geral1{
  position:absolute;
  top:75px;
 height: 100%;
 width: calc(100% - 310px);
  left:268px;
  min-height: calc(100vh - 60px);
  background-color: rgb(231, 231, 231);

}
.conj1{
  width: 100%;
  padding: 35px 20px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap:20px;
}
.conj2{
  width: 100%;
  padding: 35px 20px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap:20px;
}

body{
  background-color: rgb(231, 231, 231);
}

.l{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.m{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.n{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.o{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.p{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.q{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.r{
  padding: 20px;
  display:flex;
  align-items: center;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}

.Fator{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
}
.Tens{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 35px;
}
.Corr{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 35px;
}
.Pot{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 25px;
}

.KW{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 35px;
}
.Freq{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 35px;
}
.Gast{
  border: none;
  font-family: Comic Sans MS, Comic Sans, cursive;
  padding-bottom: 10px;
  width: 35px;
}
.FatordePotecia{
  font-family: Georgia, serif;
}
.ç{
  font-family: Georgia, serif;
}
.Corrente{
  font-family: Georgia, serif;
}
.Potencia{
  ffont-family: Georgia, serif;
}
.KWH{
  font-family: Georgia, serif;
}
.Frequencia{
  font-family: Georgia, serif;
}
.z{
  font-family: Georgia, serif;
}
.oioi{
  margin-left: 60px;
  background-color: #fff;
  position: absolute;
  width: 310px;
  border-radius: 10px;
  box-shadow: 0 7px 25px 0 rgba(0, 0, 0, 0.2);
}
.iop{
  background-color: #fff;
}


</style>


</head>
<body>

<div class ="dedo">
  <label class="NOVA">NewAI</label>
  <label class =  "Moni">Monitoramento do IOT</label>
  
  <a class= "cont" href="#">contact</a>
  <img class="diu" src="contacts-icon-png-0.jpg">
  
  
        <a class= "serv" href="#">services</a>
        
        <img class = "imaginha" src="465-4653491_international-e-commerce-e-commerce-icon-png-transparent.png" alt="servo">
        
  
</div>
<div class="sidebar">

  <div class="coco">
<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
<a class= "Sob" href="#">Sobre a New AI</a></br>
</div>

<div class="vov">
<i class="fa fa-comment" aria-hidden="true"></i>
<a class= "Duv" href="#">Duvidas</a></br>
</div>

<div class="xca">
<i class="fa fa-microchip" aria-hidden="true"></i>
<a class= "Com" href="#">Como usar o IOT</a></br>
</div>

<div class="sss">
<i class="fa fa-cogs" aria-hidden="true"></i>
<a class= "Config" href="#">Configurações</a></br>
</div>

<div class="lll">
<i class="fa fa-weixin" aria-hidden="true"></i>
<a class= "Ajuda" href="#">Ajuda</a></br>
</div>

</div>
<div class="geral1">

  <div class="conj1">
    <div class="l">
      <div class="eve">
        <input class= "Fator" id="FatorP" type = "text"></br><label class = "FatordePotecia">Fator de Potência</label><br><br>
      </div>
    </div>

    <div class="m">
      <div class="eva">
      <input class = "Tens" id = "Secbox" type="text" ><label class="a">V</label><br /><label class ="ç">Tensão</label>
      </div> 
  </div>

  <div class="n">
    <div class="evb">
    <input class= "Corr" id = "Rollbox" type="text" ><label class="b">A</label><br /><label class="Corrente">Corrente</label>
    </div>
  </div>



  <div class="o">
    <div class ="evz">
    <input class= "Pot" id = "Esp" type="text" ><label class="c">W</label><br /><label class = "Potencia">Potência</label> 
  </div>
  </div>
  </div>

  <div class="conj2">
  <div class="p">
    <div class="evx"> 
    <input class= "KW" id = "KwH" type="text" ><label class="d">kwh</label><br /><label class = "KWH">Energia</label>
  </div>
  </div>

  <div class="q">
    <div class="evu">
    <input class= "Freq" id = "frequência" type="text"  ><label class="f">Hz</label><br /><label class ="Frequencia">Frequência</label>
  </div>
  </div>



  <div class="r">
    <div class="evp">
      <input class= "Gast" id = "gasto" type="text" ><label>R$</label><br/><label class ="z">Gasto</label>
       
      
  </div>
  </div>
  </div>

  
  <div class ="ioio">
    <div class="oioi">
      
     <div style="width: 400px; height: 300px;">
       <canvas id="myChart" style="width: 50px; height: 50px;"></canvas>
       <canvas id="dedo" style="width: 50px; height: 50px;"></canvas>
       
     </div>
   </div>
   
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <script src="https://kit.fontawesome.com/c5c81fc5e1.js" crossorigin="anonymous"></script>
   
     <script>
       const ctx = document.getElementById('myChart');
     
       new Chart(ctx, {
         type: 'line',
         data: {
           labels: ['Junho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
           datasets: [{
             label: 'Gasto Mensal em Reais',
             data: [0.07, 0.02, 0, 0, 0, 0],
             borderWidth: 1,
             
             
             
           }]
         },
         options: {
           scales: {
             y: {
               beginAtZero: true
             }
           }
         }
       });
     </script>
  </div>
 
  
  <script type="module">
    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-analytics.js";
    
    
    const firebaseConfig = {
      apiKey: "AIzaSyCiWzUN_YGfA6ZN-NzaQM0ruJxawyDCpTU",
      authDomain: "tomada-iot-inteligente.firebaseapp.com",
      databaseURL: "https://tomada-iot-inteligente-default-rtdb.firebaseio.com",
      projectId: "tomada-iot-inteligente",
      storageBucket: "tomada-iot-inteligente.appspot.com",
      messagingSenderId: "440040942459",
      appId: "1:440040942459:web:6e9669f32da9c9d5866bde",
      measurementId: "G-GG8LNC0FVQ"
    };
    
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getDatabase();
    

   

    

    import{ getDatabase, get, child, update, onValue, ref, remove, set} from "https://www.gstatic.com/firebasejs/10.0.0/firebase-database.js";
   
    

    
    var secbox = document.getElementById("Secbox");
    var rollbox = document.getElementById("Rollbox");
    var esp = document.getElementById("Esp");
    var kwh = document.getElementById("KwH");
    var gasto = document.getElementById("gasto");
    var frequencia = document.getElementById("frequência");
    var FatorP = document.getElementById("FatorP");

   // var botao = document.getElementById("meuBotao");
    var botao2 = document.getElementById("meuBotao2");
    var botao = document.getElementById("meuBotao");
   
    

    
  
 

    
    function ReceberDados(){

      setInterval(function(){

      const dbref = ref(db);

      get(child(dbref, "Tomada IOT/")).then((snapshot)=>{
        if(snapshot.exists()){
          secbox.value = snapshot.val().Tensão;
          rollbox.value = snapshot.val().Corrente;
          esp.value = Number(snapshot.val().Potência.toPrecision(2));
          kwh.value = snapshot.val().kWh;
          gasto.value = Number(snapshot.val().Custo.toPrecision(1));
          frequencia.value = snapshot.val().Frequência;
          FatorP.value = snapshot.val().FatorPotência;

          
          
    }})
  }, 500);
    }
  

  document.addEventListener('DOMContentLoaded', function() {
ReceberDados();
  });
    

    function InsertData(){
            set(ref(db, "Tomada IOT/"),{
              Tensão: secbox.value,
              Corrente: rollbox.value,
              Potência: esp.value,
              kWh: kwh.value,
              Custo: gasto.value,
              Frequência: frequencia.value,
              FatorPotência: FatorP.value
            })

            
          }
        
//botao.addEventListener("click", InsertData);
/*botao2.addEventListener("click", ReceberDados);*/
/*botao.addEventListener("click", InsertData);*/
      

      
  
  </script>
</body>

</html>
